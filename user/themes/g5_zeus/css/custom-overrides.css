html {
  scroll-behavior: smooth;
}

body.has-sticky-nav #g-navigation {
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

#g-navigation {
  position: sticky;
  top: 0;
  z-index: 1030;
  width: 100%;
  background-color: rgba(255, 255, 255, 0.96);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.08);
}

#g-navigation .g-grid {
  align-items: center;
}

/* Carousel helpers */
.g-owlcarousel {
  position: relative;
}

.g-owlcarousel.has-color-overlay .g-owlcarousel-item-img:after,
.g-owlcarousel.has-color-overlay .owl-item .g-owlcarousel-item-img:after {
  background: none !important;
  opacity: 0 !important;
}

/* Φωτογραφίες carousel */
/* Smooth Scroll */
html {
  scroll-behavior: smooth !important;
}

/* Sticky Header Fix */
#g-page-surround {
  overflow: visible !important;
}

/* Sticky Header */
#g-navigation {
  position: sticky;
  top: 0;
  z-index: 1000;
  background: rgba(255, 255, 255, 0.95);
  /* Ensure visibility */
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  /* Optional shadow for separation */
  width: 100%;
}

.drastiriotites-carousel {
  position: relative;
}

.drastiriotites-carousel .g-owlcarousel {
  position: relative;
  padding-bottom: 90px;
}

.drastiriotites-carousel .g-owlcarousel .owl-nav {
  position: absolute;
  top: 50%;
  left: 0;
  width: 100%;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 0;
  padding: 0 1rem;
  pointer-events: none;
  z-index: 2;
}

.drastiriotites-carousel .g-owlcarousel .owl-nav button.owl-prev,
.drastiriotites-carousel .g-owlcarousel .owl-nav button.owl-next {
  pointer-events: auto;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 3.125rem;
  height: 3.125rem;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.28);
  border: 1px solid rgba(255, 255, 255, 0.45);
  color: #1f2329;
  box-shadow: 0 12px 26px rgba(20, 22, 24, 0.18);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  transition: background-color 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.drastiriotites-carousel .g-owlcarousel .owl-nav button.owl-prev:hover,
.drastiriotites-carousel .g-owlcarousel .owl-nav button.owl-next:hover,
.drastiriotites-carousel .g-owlcarousel .owl-nav button.owl-prev:focus,
.drastiriotites-carousel .g-owlcarousel .owl-nav button.owl-next:focus {
  background: rgba(255, 255, 255, 0.4);
  border-color: rgba(255, 255, 255, 0.6);
  box-shadow: 0 16px 32px rgba(20, 22, 24, 0.22);
}

.drastiriotites-carousel .g-owlcarousel .owl-nav button.owl-prev i,
.drastiriotites-carousel .g-owlcarousel .owl-nav button.owl-next i {
  font-size: 1rem;
}

.drastiriotites-carousel .g-owlcarousel .g-owlcarousel-item-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

.drastiriotites-carousel .g-owlcarousel .g-owlcarousel-item-img {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: clamp(320px, 65vw, 560px);
  padding: 1rem;
  border-radius: 1rem;
  overflow: hidden;
}

.drastiriotites-carousel .g-owlcarousel .g-owlcarousel-item-img img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.drastiriotites-carousel .g-owlcarousel .owl-dots {
  position: absolute;
  left: 50%;
  bottom: 120px;
  width: auto;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 4px 6px;
  background: rgba(255, 255, 255, 0.25);
  border: 1px solid rgba(255, 255, 255, 0.4);
  border-radius: 999px;
  box-shadow: 0 12px 26px rgba(20, 22, 24, 0.18);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  transform: translateX(-50%);
  pointer-events: auto;
}

.drastiriotites-carousel .g-owlcarousel .owl-dots .owl-dot span {
  width: 12px;
  height: 12px;
  margin: 0;
  background: rgba(18, 63, 141, 0.65);
  border-radius: 999px;
  transition: background-color 0.2s ease, transform 0.2s ease;
}

.drastiriotites-carousel .g-owlcarousel .owl-dots .owl-dot.active span,
.drastiriotites-carousel .g-owlcarousel .owl-dots .owl-dot:hover span {
  background: rgba(91, 167, 255, 0.95);
  transform: scale(1.15);
}

@media (max-width: 768px) {
  .drastiriotites-carousel .g-owlcarousel .g-owlcarousel-item-img {
    height: clamp(220px, 85vw, 420px);
    border-radius: 0.75rem;
  }

  .drastiriotites-carousel .g-owlcarousel {
    padding-bottom: 70px;
  }

  .drastiriotites-carousel .g-owlcarousel .owl-nav {
    padding: 0 0.5rem;
  }

  .drastiriotites-carousel .g-owlcarousel .owl-nav button.owl-prev,
  .drastiriotites-carousel .g-owlcarousel .owl-nav button.owl-next {
    width: 2.5rem;
    height: 2.5rem;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.16);
  }

  .drastiriotites-carousel .g-owlcarousel .owl-dots {
    gap: 0.4rem;
    bottom: 90px;
    transform: translateX(-50%);
    padding: 4px 5px;
  }

  .drastiriotites-carousel .g-owlcarousel .owl-dots .owl-dot span {
    width: 12px;
    height: 12px;
  }
}

/* Custom Carousel Styles */
.custom-carousel-container {
  width: 100vw;
  margin-left: calc(50% - 50vw);
  overflow: hidden;
  padding: 2rem 0;
  background: #f4f5f7;
}

.custom-carousel-wrapper {
  position: relative;
  width: 100%;
  display: flex;
  align-items: center;
}

.custom-carousel-track {
  display: flex;
  width: 100%;
  /* No transition by default, handled by JS */
  will-change: transform;
}

.custom-carousel-item {
  /* Flex basis is set by JS, but we set defaults here */
  flex-shrink: 0;
  height: 400px;
  position: relative;
  overflow: hidden;
  transition: flex-grow 0.4s ease, flex-basis 0.4s ease, filter 0.4s ease;
  cursor: pointer;

  /* Tilted Edge Effect */
  transform: skewX(-10deg);
  margin: 0 -10px;
  /* Negative margin to overlap the gaps created by skew */
  border-right: 4px solid #fff;
  /* Separator */
  border-left: 4px solid #fff;
  z-index: 1;
}

.custom-carousel-item:hover {
  /* Hover expansion is tricky with the transform-based infinite loop because it affects width.
       If we expand one item, the total width changes, which might misalign the track.
       However, flex-grow works if the container allows it.
       But here, we are using fixed percentages for the track transform.
       If an item grows, it pushes others.
       Since we are translating the whole track, growing an item will push subsequent items to the right.
       This is acceptable and desired.
    */
  flex-grow: 0;
  /* Disable flex-grow for now as it conflicts with the strict transform math */
  /* Instead, let's use scale or just width if possible, but width breaks the flow.
       The user asked for "take a bit more space".
       If we use flex-grow, we need to make sure the track width accommodates it.
       The track width is implicitly defined by its children.
       If we expand one, the track gets wider.
       The current view window (100vw) stays the same.
       So the items to the right will be pushed out of view.
       This is fine.
    */
  z-index: 10;
  filter: brightness(1.1);
  /* Let's try a small width increase using flex-basis if possible, or just transform scale?
       Transform scale overlaps neighbors.
       Let's stick to the requested "take more space".
       We can add a class or just use hover.
       But wait, if we change width, the `translateX` calculation (based on fixed percentage) might drift?
       No, `translateX` moves the track. The track's content width changes.
       If item 2 grows, item 3 moves right.
       If we are centered on item 1, item 2 grows, item 3 moves further right.
       This is fine.
    */
  flex-basis: 35% !important;
  /* Force expansion */
}

/* We need to ensure other items shrink or we just overflow?
   If one grows to 35%, others stay at 25%. Total > 100%.
   So items on the right get pushed out. That's okay.
*/

.custom-carousel-img {
  width: 140%;
  height: 100%;
  background-size: cover;
  background-position: center;
  transform: skewX(10deg) translateX(-15%);
  transition: transform 0.4s ease;
}

.custom-carousel-content {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  padding: 20px;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
  transform: skewX(10deg);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.custom-carousel-item:hover .custom-carousel-content {
  opacity: 1;
}

.custom-carousel-content h3 {
  color: #fff;
  margin: 0;
  font-size: 1.2rem;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

/* Navigation Buttons */
.custom-carousel-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 50px;
  height: 50px;
  background: rgba(255, 255, 255, 0.8);
  border: none;
  border-radius: 50%;
  cursor: pointer;
  z-index: 20;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  transition: background 0.3s ease, transform 0.2s ease;
}

.custom-carousel-nav:hover {
  background: #fff;
  transform: translateY(-50%) scale(1.1);
}

.custom-carousel-nav.prev {
  left: 20px;
}

.custom-carousel-nav.next {
  right: 20px;
}

.custom-carousel-nav i {
  font-size: 1.2rem;
  color: #333;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .custom-carousel-item {
    transform: none;
    margin: 0;
    border: none;
    /* On mobile, show 1 item (100% width) */
    flex-basis: 100% !important;
  }

  .custom-carousel-img {
    width: 100%;
    transform: none;
    /* Ensure image covers the area nicely */
    background-size: cover;
  }

  .custom-carousel-content {
    transform: none;
    opacity: 1;
    /* Always show content on mobile if desired, or keep as hover? Let's keep it visible or 1 on hover. 
                   Actually, hover doesn't exist on touch. Let's make it always visible? 
                   User said "simple slide". Let's keep it simple. */
  }

  /* Adjust navigation buttons for mobile */
  .custom-carousel-nav {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.6);
  }

  .custom-carousel-nav.prev {
    left: 10px;
  }

  .custom-carousel-nav.next {
    right: 10px;
  }
}

/* --- Final Carousel Fixes --- */
.custom-carousel-wrapper {
  mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
  -webkit-mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
}

/* --- Sticky Header Fixes --- */
/* Force sticky behavior and ensure z-index */
#g-navigation {
  position: -webkit-sticky !important;
  position: sticky !important;
  top: 0 !important;
  z-index: 9999 !important;
  background: rgba(255, 255, 255, 0.95);
  /* Ensure visibility */
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

/* Fix Gantry's overflow: hidden habit which kills sticky */
body,
#g-page-surround,
.g-offcanvas-hide {
  overflow-y: visible !important;
  overflow-x: clip !important;
  /* Modern replacement for hidden that might play nicer, or use visible */
}

/* Ensure mobile menu doesn't break with overflow changes */
#g-mobilemenu-container {
  z-index: 10000 !important;
}

/* --- Lightbox Styles --- */
.custom-lightbox {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.95);
  z-index: 100000;
  /* Highest possible */
  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
  backdrop-filter: blur(5px);
}

.custom-lightbox.active {
  opacity: 1;
  pointer-events: all;
}

.lightbox-img {
  max-width: 90%;
  max-height: 90%;
  object-fit: contain;
  border-radius: 4px;
  box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
  transform: scale(0.9);
  transition: transform 0.3s ease;
}

.custom-lightbox.active .lightbox-img {
  transform: scale(1);
}

.lightbox-close {
  position: absolute;
  top: 20px;
  right: 20px;
  background: transparent;
  border: none;
  color: #fff;
  font-size: 3rem;
  cursor: pointer;
  line-height: 1;
  padding: 0 10px;
  transition: transform 0.2s ease, color 0.2s ease;
  z-index: 100001;
}

.lightbox-close:hover {
  transform: scale(1.1);
  color: #fca5a5;
}